{
  "mongoConns": [
    {
      "key": "mongo-cluster-a",
      "mongoUri": "mongodb+srv://username:password@cluster-a.mongodb.net?retryWrites=true&w=majority"
    },
    {
      "key": "mongo-cluster-b", 
      "mongoUri": "mongodb+srv://username:password@cluster-b.mongodb.net?retryWrites=true&w=majority"
    }
  ],
  "databases": {
    "metadata": [
      {
        "key": "meta-tenant-a",
        "tenantId": "tenant-a",
        "mongoConnKey": "mongo-cluster-b",
        "dbName": "metadata_tenant_a",
        "spacesConnKey": "aws-us-east-1"
      }
    ],
    "runtime": [
      {
        "key": "runtime-tenant-a",
        "tenantId": "tenant-a",
        "mongoConnKey": "mongo-cluster-b",
        "dbName": "runtime_tenant_a",
        "spacesConnKey": "aws-us-east-1"
      }
    ],
    "logs": {
      "connection": {
        "key": "logs-main",
        "mongoConnKey": "mongo-cluster-a",
        "dbName": "chronos_logs",
        "spacesConnKey": "aws-us-east-1"
      }
    }
  },
  "spacesConns": [
    {
      "key": "aws-us-east-1",
      "endpoint": "https://s3.us-east-1.amazonaws.com",
      "region": "us-east-1",
      "accessKey": "YOUR_AWS_ACCESS_KEY",
      "secretKey": "YOUR_AWS_SECRET_KEY",
      "buckets": {
        "json": "chronos-json-us-east-1",
        "content": "chronos-content-us-east-1",
        "versions": "chronos-versions-us-east-1",
        "backup": "chronos-backups-us-east-1"
      },
      "forcePathStyle": false
    },
    {
      "key": "aws-eu-west-1",
      "endpoint": "https://s3.eu-west-1.amazonaws.com",
      "region": "eu-west-1",
      "accessKey": "YOUR_AWS_ACCESS_KEY_2",
      "secretKey": "YOUR_AWS_SECRET_KEY_2",
      "buckets": {
        "json": "chronos-json-eu-west-1",
        "content": "chronos-content-eu-west-1",
        "versions": "chronos-versions-eu-west-1",
        "backup": "chronos-backups-eu-west-1"
      },
      "forcePathStyle": false
    }
  ],
  "counters": {
    "mongoUri": "mongodb+srv://username:password@cluster-metrics.mongodb.net/counters?retryWrites=true&w=majority",
    "dbName": "chronos_counters"
  },
  "routing": {
    "hashAlgo": "rendezvous",
    "chooseKey": "tenantId|dbName"
  },
  "retention": {
    "ver": { "days": 60, "maxPerItem": 30 },
    "counters": { "days": 365, "weeks": 260, "months": 120 }
  },
  "rollup": {
    "enabled": true,
    "manifestPeriod": "daily"
  },
  "collectionMaps": {
    "kycDocuments": {
      "indexedProps": ["clientId", "documentType", "issuedCountry"],
      "base64Props": { 
        "fileContent": { 
          "contentType": "application/pdf",
          "preferredText": false
        } 
      },
      "validation": { 
        "requiredIndexed": ["clientId", "documentType"] 
      }
    },
    "profiles": {
      "indexedProps": ["customerId", "preferences.language", "preferences.notifications"],
      "base64Props": { 
        "avatar": { 
          "contentType": "image/png",
          "preferredText": false
        } 
      }
    }
  },
  "devShadow": {
    "enabled": true,
    "ttlHours": 24,
    "maxBytesPerDoc": 1048576
  },
  "fallback": {
    "enabled": true,
    "maxRetries": 3,
    "retryDelayMs": 1000,
    "maxDelayMs": 60000,
    "deadLetterCollection": "chronos_fallback_dead"
  },
  "transactions": {
    "enabled": true,
    "autoDetect": true
  }
}
